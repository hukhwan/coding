<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Center Modal</title>
    <link rel="stylesheet" href="./modalpract.css" />
  </head>

  <body>
    <div id="my_modal">
      <h3>콘텐츠산업 진흥법에 따른 표시</h3>
      <div>
        <img src="./source/footer-notice-contents.jpg" />

        <ol>
          <li>콘텐츠의 명칭:상품/판매회원/중개 서비스 및 거래정보 등</li>
          <li>제작년월일: 개별 콘텐츠의 개시일 또는 갱신일</li>
          <li>제작자: (주)크몽 및 개별 판매회원</li>
        </ol>

        <p>
          (주)크몽 사이트 상의 모든 콘텐츠는 '콘텐츠산업 진흥법'에 따라 게시일 또는 그 갱신일로부터 5년간 보호됩니다.<br />(제작자의
          동의 없는 무단 복제 및 이용등을 금함)
        </p>
      </div>
      <a class="modal_close_btn">닫기</a>
    </div>

    <button id="popup_open_btn">팝업창</button>

    <script>
      function modal(id) {
        var zIndex = 9999;
        var modal = document.getElementById(id);

        // 모달 div 뒤에 희끄무레한 레이어
        var bg = document.createElement("div");
        bg.setStyle({
          position: "fixed",
          zIndex: zIndex,
          left: "0px",
          top: "0px",
          width: "100%",
          height: "100%",
          overflow: "auto",
          // 레이어 색갈은 여기서 바꾸면 됨
          backgroundColor: "rgba(0,0,0,0.4)",
        });
        document.body.append(bg);

        // 닫기 버튼 처리, 시꺼먼 레이어와 모달 div 지우기
        modal.querySelector(".modal_close_btn").addEventListener("click", function () {
          bg.remove();
          modal.style.display = "none";
        });

        modal.setStyle({
          position: "fixed",
          display: "block",
          boxShadow: "0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)",

          // 시꺼먼 레이어 보다 한칸 위에 보이기
          zIndex: zIndex + 1,

          // div center 정렬
          top: "50%",
          left: "50%",
          transform: "translate(-50%, -50%)",
          msTransform: "translate(-50%, -50%)",
          webkitTransform: "translate(-50%, -50%)",
        });
      }

      // Element 에 style 한번에 오브젝트로 설정하는 함수 추가
      Element.prototype.setStyle = function (styles) {
        for (var k in styles) this.style[k] = styles[k];
        return this;
      };

      document.getElementById("popup_open_btn").addEventListener("click", function () {
        // 모달창 띄우기
        modal("my_modal");
      });
    </script>
  </body>
</html>
